<div class="settings-page col-lg-12 w-100">

  <br>
  <!-- Breadcrumbs-->
  <h3 align="center" style="color: dimgrey">Create Event</h3>

  <form class="form-group" [formGroup]="createEventForm">
    <fieldset [disabled]="isSubmitting">
      <div class="container">

        <div class="col-md-12">
          <fieldset class="form-group">
            <label class="required" for="name">Event Name:</label>
            <em *ngIf="createEventForm.controls.name?.invalid && createEventForm.controls.name?.touched">Required</em>
            <input formControlName="name" type="text" class="form-control" id="name"
                   placeholder="Enter the event name" required>
          </fieldset>
          <fieldset class="form-group">
            <label for="description">Event Description:</label>
            <em *ngIf="createEventForm.controls.description?.invalid && createEventForm.controls.description?.touched">Required</em>
            <input formControlName="description" type="text" class="form-control" id="description"
                   placeholder="Enter the event description" required>
          </fieldset>
          <fieldset class="form-group">
            <label for="location">Event Location:</label>
            <em *ngIf="createEventForm.controls.location?.invalid && createEventForm.controls.location?.touched">Required</em>
            <input formControlName="location" type="text" class="form-control" id="location"
                   placeholder="Enter the event location" required>
          </fieldset>

          <div class="row">
            <div class="col-4">
              <fieldset class="form-group">
                <label for="eventDate">Event Date:</label>
                <em
                  *ngIf="createEventForm.controls.date?.invalid && createEventForm.controls.date?.touched">Required</em>
                <input formControlName="date" type="date" class="form-control" id="eventDate"
                       value="Enter the event Date"
                       required>
              </fieldset>
            </div>
            <div class="col-4">
              <fieldset class="form-group">
                <label for="startTime">Event Start Time:</label>
                <em *ngIf="createEventForm.controls.startTime?.invalid && createEventForm.controls.startTime?.touched">Required</em>
                <input formControlName="startTime" type="time" class="form-control" id="startTime"
                       placeholder="Enter Event Start Time" required>
              </fieldset>
            </div>
            <div class="col-4">
              <fieldset class="form-group">
                <label for="endTime">Event End Time:</label>
                <em *ngIf="createEventForm.controls.endTime?.invalid && createEventForm.controls.endTime?.touched">Required</em>
                <input formControlName="endTime" type="time" class="form-control" id="endTime"
                       placeholder="Enter Event End Time" required>
              </fieldset>
            </div>
          </div>
          <div class="row">
            <div class="col-3">
              <fieldset class="form-group">
                <label for="startLat">Start Location Lat:</label>
                <input formControlName="startLat" type="number" class="form-control" id="startLat" required>
              </fieldset>
            </div>
            <div class="col-3">
              <fieldset class="form-group">
                <label for="startLng">Start Location Lng:</label>
                <input formControlName="startLng" type="number" class="form-control" id="startLng" required>
              </fieldset>
            </div>
            <div class="col-3">
              <fieldset class="form-group">
                <label for="endLat">End Location Lat:</label>
                <input formControlName="endLat" type="number" class="form-control" id="endLat" required>
              </fieldset>
            </div>
            <div class="col-3">
              <fieldset class="form-group">
                <label for="endLng">End Location Lng:</label>
                <input formControlName="endLng" type="number" class="form-control" id="endLng" required>
              </fieldset>
            </div>
          </div>
          <div class="row">
            <div class="col-4">
              <fieldset class="form-group">
                <label for="elevation">Elevation:</label>
                <input formControlName="elevation" type="number" class="form-control" id="elevation" required>
              </fieldset>
            </div>
            <div class="col-4">
              <fieldset class="form-group">
                <label for="length">Length:</label>
                <input formControlName="length" type="number" class="form-control" id="length" required>
              </fieldset>
            </div>
            <div class="col-4">
              <fieldset class="form-group">
                <label for="difficulty">Difficulty:</label>
                <input formControlName="difficulty" type="text" class="form-control" id="difficulty" required>
              </fieldset>
            </div>
          </div>

          <!--<fieldset class="form-group">-->
          <!--<label for="image">Event Image</label>-->
          <!--<input formControlName="event_img" type="file" class="form-control" id="image"-->
          <!--accept="image/*" #EventImg>-->
          <!--</fieldset>-->
          <div *ngIf="currentFileUpload" class="progress" style="width:400px">
            <div class="progress-bar progress-bar-info progress-bar-striped"
                 role="progressbar" attr.aria-valuenow="{{progress.percentage}}"
                 aria-valuemin="0" aria-valuemax="100"
                 [ngStyle]="{width:progress.percentage+'%'}">
              {{progress.percentage}}%
            </div>
          </div>
          <fieldset class="form-group">
            <label for="fileTrack">Event Track (Upload a .gpx file)&nbsp;</label>
            <label class="btn btn-default">
              <input formControlName="trackFile" type="file" class="form-control" id="fileTrack" accept=".gpx"
                     (change)="selectFile($event)" required>
            </label>

            <button class="btn btn-success" [disabled]="!selectedFiles"
                    (click)="upload()">Upload
            </button>
          </fieldset>
          <fieldset class="form-group">
            <label for="image">Event Image (Upload image file)</label>
            <label class="btn btn-default"> <input formControlName="image" type="file" class="form-control" id="image"
                                                   accept="image/*"
                                                   (change)="selectImageFile($event)" required>
            </label>

            <button class="btn btn-success" [disabled]="!selectedImageFiles"
                    (click)="uploadImage()">Upload
            </button>
          </fieldset>

          <button (click)="submitForm()" class="btn btn-primary">Create</button>
        </div>
      </div>
    </fieldset>
  </form>
  <!--<pre>{{createEventForm.value | json}}</pre>-->
  <br>
  <br>
</div>
<br>
<br><br>
